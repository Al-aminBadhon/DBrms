@using PagedList;
@using PagedList.Mvc;
@model IPagedList<DBrms.Models.FoodCart>

@{
    ViewBag.Title = "OrderListDetails";
    Layout = "~/Views/Shared/_CustomerLayout.cshtml";
}

<h2>Order List Details for "@Session "</h2>


<table class="table">
    <tr>
        <th style=" padding-left:80px; width:100px;">
            @Html.DisplayNameFor(model => model.First().Food.Name)
        </th>
        <th style="width:120px;">
            @Html.DisplayNameFor(model => model.First().Food.Image)
        </th>
        <th style="width:50px;">
            @Html.DisplayNameFor(model => model.First().Quantity)
        </th>
        <th style="width:60px;">
            @Html.DisplayNameFor(model => model.First().Price)
        </th>
        <th style="width:60px;">
            @Html.DisplayNameFor(model => model.First().Cart.Total)
        </th>
        <th style="width:100px;">
            @Html.DisplayNameFor(model => model.First().Food.Restaurant.Name)
        </th>
        <th style="width:120px;">
            @Html.DisplayNameFor(model => model.First().Food.Restaurant.Picture)
        </th>
        <th style="width:150px;">
            @Html.DisplayNameFor(model => model.First().Cart.Details)
        </th>
        <th style="width:90px;">
            @Html.DisplayNameFor(model => model.First().IsConfirm)
        </th>

        <th></th>
    </tr>

    @foreach (var item in Model)
    {
    <tr>
        <td style=" padding-left:80px;">
            @Html.DisplayFor(modelItem => item.Food.Name)
        </td>
        <td>
            <img src="@item.Food.Image" height="60" width="120" />
        </td>

        <td>
            <center> @Html.DisplayFor(modelItem => item.Quantity)</center>
        </td>

        <td>
            @Html.DisplayFor(modelItem => item.Price)
        </td>
        <td>
            @(item.Price * item.Quantity)
        </td>
        <td>
            @Html.DisplayFor(modelItem => item.Food.Restaurant.Name)
        </td>
        <td>
            <img src="@item.Food.Restaurant.Picture" height="60" width="120" />
        </td>
        <td>
            @Html.DisplayFor(modelItem => item.Cart.Details)
        </td>
        <td>
            @{
                if (item.IsConfirm == null)
                {
                    <p>
                        <img src="~/Image/pending.png" height="40" width="80" />
                    </p>
                }
                if(item.IsConfirm == true)
                {
                    <p>
                        <img src="~/Image/approve.jpg" />
                    </p>
                }
                if(item.IsConfirm == false)
                {
                    <p> <img src = "~/Image/Reject.jpg" /></p>
                }
            }
        </td>
        <td>

            <p style="font-size:15px"> @Html.ActionLink("Cancel Order", "Delete", new { id = item.FoodCartId })</p>
        </td>
    </tr>
    }

</table>

@Html.PagedListPager(Model, page => Url.Action("OrderListDetails", new { page }))